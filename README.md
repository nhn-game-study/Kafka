## `NotificationController` 리팩토링

### 1. 관심사 분리
- **외부 API 호출 후 동기식 처리**  
  동기식으로 이어지는 로직이 많아지면 코드가 복잡해집니다.  
  이벤트-핸들러 구조를 사용하면 흐름을 분리해 깔끔하게 유지할 수 있습니다.
- **`externalSenderService` 변경 시 전파 범위**  
  서비스가 바뀌면 컨트롤러까지 영향을 받습니다.
- **컨트롤러마다 다른 반환값 처리**  
  - 컨트롤러별로 결과 처리 방식이 다르면 리스너를 여러 개 둘 수도 있습니다.  
  - 하지만 서비스가 바뀔 때마다 **리스너도 전부 수정**해야 합니다.  
  - _“이럴 거면 굳이?”_ 라는 의문이 생깁니다.
> 사실 리스너를 여러개 둘 필요없이, `ExternalSenderService`을 변경하면 위 문제는 해결됌

#### 이벤트-핸들러의 단점
- 코드의 흐름을 따라가기 어렵다.  
- 의존성 분리가 필수적이다.

---

### 2. 성능?
- 이벤트-핸들러를 사용했을 때의 성능 이슈는?
- 
#### 이벤트-핸들러의 장점
- 비동기와 결합해서 사용했을 때 응답 속도가 개선될 수 있다.
- @transactionaleventlistener를 사용하면 트랜잭션 상태에 따라 이벤트 실행


# AOP랑 이벤트핸들러 중 어떤걸로 구현할 것인가?
1. AOP는 적용 범위가 큰 경우
2. 이벤트핸들러는 적용범위가 더 작은 경우
3. 전처리 후처리 요구사항이 많으면 `Aop`가 이벤트 핸들러보다 더 많다.
